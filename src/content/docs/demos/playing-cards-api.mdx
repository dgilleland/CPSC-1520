---
title: DeckofCardsAPI.com
description: Learn how to use Deck of Cards API by Chase Roberts.
sidebar:
  label: Deck of Cards
draft: true
---

import { Aside, Badge, Card, CardGrid, Code, FileTree, Icon, LinkButton, LinkCard, Steps, TabItem, Tabs } from '@astrojs/starlight/components';
import { Image } from 'astro:assets';

## Endpoints

The base API call for DeckOfCardsAPI is `https://deckofcardsapi.com/api/deck/<<deck_id>>`. Here, the `<<deck_id>>` is an identifier generated by the site whenever a new deck is created. There's a limit for how long decks exist, however: *"After **two weeks**, if no actions have been made on the deck then we throw it array."*

Beyond that, the various API endpoints center around either the deck itself or around the various **piles** associated with the deck.

### Deck Actions

You can `/shuffle/` a deck, `/draw/` cards from the deck, or `/return/` cards to the deck.

### Pile Actions

You specify an action on a pile by adding `/pile/<<pile_name>>` immediately after the deck id. Every pile needs a name (you can call it whatever you want), and you can perform `/add/`, `/shuffle/`, `/list/`, `/draw/`, or `/return/` actions on the pile.

## A Practical Example

Without getting into the details of any specific game, we can identify a few simple *mechanics* common to several card games. Examining these can illustrate how to interact with the API calls.

### Call the API

Since there is a common base URL, we can create a generalized function that can be used for all the possible ways we might need to perform our fetch. Since we are likely wanting a very *controlled* interaction with the API, we'll make the calls `async` so that it can be `await`ed.

```js title=""
const callApi = async function({deck_id, endPoint}) {
    if(!deck_id) {
        deck_id = 'new';
    }
    // TODO: Add other "guards" for the parameters

    const url = `https://deckofcardsapi.com/api/deck/${deck_id}${endpoint}`;
    const response = await fetch(url);
    const data = await response.json();
    return data;
}
```

### Starting a Game

Creating a card game often begins with shuffling a new deck of cards. This can be done in a single call:

```js title="mechanics"
const newGame = async function(shuffle = true) {
    const endPoint = shuffle ? '/shuffle/' : '';
    return callApi({endPoint});
}

let theGame = await newGame();
// We'll get an object such as:
//  {
//    success: true,
//    deck_id: 'jiaylwmaf3g7',
//    remaining: 52,
//    shuffled: true
//  }
```

### Drawing a Card
